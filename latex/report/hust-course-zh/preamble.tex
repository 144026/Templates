%----------geometry, color and font------
\usepackage[tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in]{geometry}
\usepackage{xcolor}
\usepackage{ctex}
\usepackage{amsmath}
%\usepackage{fontspec} contained by ctex
% use Google Fonts
\setmainfont{Noto Serif}
\setsansfont{Roboto}
\setmonofont{Source Code Pro}
%----------geometry, color and font------


%----------headers------------------------
\usepackage{fancyhdr}
%\fancyhead{}
%\fancyfoot{}
\fancyhead[L]{\small \kaishu \LeftHeader}
\fancyhead[R]{\small \kaishu \RightHeader}
%----------headers------------------------


%----------figures-----------------------
\usepackage{graphicx}
\usepackage{tikz}
\usepackage[americaninductors,europeanresistors]{circuitikz}
%----------figures-----------------------


% tables


%----------captions----------------------
\usepackage{float}
\usepackage[
    font=small, %
    labelfont=bf, %
    textfont=normalfont, %
    labelformat=simple, %
    labelsep=period %
]{caption}
\usepackage[
    font=small, %
    labelfont=normalfont, %
    textfont=normalfont, %
    labelformat=parens, %
    labelsep=space %
]{subcaption}
\renewcommand{\figurename}{\bfseries{图\hspace{-1pt}}}
\renewcommand{\tablename}{\bfseries{表\hspace{-1pt}}}
%----------captions----------------------


%----------xref--------------------------
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=black,
    urlcolor=blue,
    citecolor=cyan
}
\renewcommand{\figureautorefname}{图\hspace{-3pt}}
\renewcommand{\subfigureautorefname}{图\hspace{-3pt}}
\renewcommand{\tableautorefname}{表\hspace{-3pt}}
\renewcommand{\subtableautorefname}{表\hspace{-3pt}}
\renewcommand{\equationautorefname}{式\hspace{-3pt}}
\renewcommand{\sectionautorefname}{节\hspace{-3pt}}
\renewcommand{\subsectionautorefname}{节\hspace{-3pt}}
%----------xref--------------------------


%----------toc------------------------------ 
\usepackage[nottoc]{tocbibind} % add ref to toc
\setcounter{tocdepth}{2}
\usepackage{setspace}

\usepackage{tocloft}
\renewcommand{\contentsname}{目\ 录}
\tocloftpagestyle{plain} % this package overwrites pagestyle!
%----------toc------------------------------ 



%----------appendix------------------------
\usepackage[page, toc, title, titletoc]{appendix} % page(appendixpagename), toc(appendixtocname)
\renewcommand{\appendixname}{附录}
\renewcommand{\appendixtocname}{附录}
\renewcommand{\appendixpagename}{附录}
%----------appendix------------------------


%----------listings for code (DEPRECATED)--
\usepackage{listings}
\lstset{ %
    backgroundcolor=\color{white},
    basicstyle=\small\fontspec{Source Code Pro},
    breakatwhitespace=false,
    breaklines=true,
    commentstyle=\color{green!50!black},
    escapeinside={\%*}{*)},
    extendedchars=true,
    %frame=single,
    keywordstyle=\color{blue},
    numbers=left,
    numbersep=5pt,
    numberstyle=\tiny\color{gray},
    rulecolor=\color{black},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stepnumber=1,
    stringstyle=\color[RGB]{128,0,0},
    tabsize=2
}
%----------listings for code (DEPRECATED)--


%----------minted for code-----------------
\usepackage[
    cache=false,
    outputdir=build
]{minted}
\setminted{
    frame=lines,
    framesep=2mm,
    linenos=true,
    numbersep=5pt,
    xleftmargin=5pt,
    fontsize=\footnotesize
}
%----------minted for code-----------------


%----------misc----------------------------
\usepackage{iitem}
%----------misc----------------------------


%----------chinese section-----------------
\usepackage{titlesec}
\titleformat*{\section}{\fontsize{16pt}{\baselineskip}\bfseries\songti}
\titleformat*{\subsection}{\fontsize{14pt}{\baselineskip}\bfseries\songti}
\titleformat*{\subsubsection}{\fontsize{12pt}{\baselineskip}\bfseries\songti}
%----------chinese section-----------------


%----------marcos--------------------------
\newcommand{\LeftHeader}{Left Header}
\newcommand{\RightHeader}{Right Header}
%----------marcos--------------------------
